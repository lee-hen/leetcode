#[allow(clippy::needless_range_loop)]
pub fn candy_crush(board: Vec<Vec<i32>>) -> Vec<Vec<i32>> {
    let mut board = board;
    let row_len = board.len();
    let col_len = board[0].len();
    let mut todo = false;

    for r in 0..row_len {
        for c in 0..col_len - 2 {
            let v = i32::abs(board[r][c]);
            if v != 0 && v == i32::abs(board[r][c + 1]) && v == i32::abs(board[r][c + 2]) {
                board[r][c] = -v;
                board[r][c + 1] = -v;
                board[r][c + 2] = -v;
                todo = true
            }
        }
    }

    for r in 0..row_len - 2 {
        for c in 0..col_len {
            let v = i32::abs(board[r][c]);
            if v != 0 && v == i32::abs(board[r + 1][c]) && v == i32::abs(board[r + 2][c]) {
                board[r][c] = -v;
                board[r + 1][c] = -v;
                board[r + 2][c] = -v;
                todo = true;
            }
        }
    }

    for c in 0..col_len {
        let mut wr = (row_len - 1) as i32;
        for r in (0..=row_len - 1).rev() {
            if board[r][c] > 0 {
                board[wr as usize][c] = board[r][c];
                wr -= 1;
            }
        }

        while wr >= 0 {
            board[wr as usize][c] = 0;
            wr -= 1;
        }
    }

    if todo {
        return candy_crush(board);
    }
    board
}

#[cfg(test)]
mod tests {
    use crate::candy_crush;

    #[test]
    fn test_case1() {
        let board = vec![
            vec![110, 5, 112, 113, 114],
            vec![210, 211, 5, 213, 214],
            vec![310, 311, 3, 313, 314],
            vec![410, 411, 412, 5, 414],
            vec![5, 1, 512, 3, 3],
            vec![610, 4, 1, 613, 614],
            vec![710, 1, 2, 713, 714],
            vec![810, 1, 2, 1, 1],
            vec![1, 1, 2, 2, 2],
            vec![4, 1, 4, 4, 1014],
        ];

        let expect = vec![
            vec![0, 0, 0, 0, 0],
            vec![0, 0, 0, 0, 0],
            vec![0, 0, 0, 0, 0],
            vec![110, 0, 0, 0, 114],
            vec![210, 0, 0, 0, 214],
            vec![310, 0, 0, 113, 314],
            vec![410, 0, 0, 213, 414],
            vec![610, 211, 112, 313, 614],
            vec![710, 311, 412, 613, 714],
            vec![810, 411, 512, 713, 1014],
        ];

        assert_eq!(candy_crush(board), expect)
    }

    #[test]
    fn test_case2() {
        let board = vec![
            vec![1, 3, 5, 5, 2],
            vec![3, 4, 3, 3, 1],
            vec![3, 2, 4, 5, 2],
            vec![2, 4, 4, 5, 5],
            vec![1, 4, 4, 1, 1],
        ];

        let expect = vec![
            vec![1, 3, 0, 0, 0],
            vec![3, 4, 0, 5, 2],
            vec![3, 2, 0, 3, 1],
            vec![2, 4, 0, 5, 2],
            vec![1, 4, 3, 1, 1],
        ];
        assert_eq!(candy_crush(board), expect)
    }

    #[test]
    fn test_case3() {
        let board = vec![vec![2, 1, 3], vec![2, 2, 2], vec![2, 2, 2]];

        let expect = vec![vec![0, 0, 0], vec![0, 0, 0], vec![0, 1, 3]];
        assert_eq!(candy_crush(board), expect)
    }

    #[test]
    fn test_case4() {
        let board = vec![
            vec![1, 4, 3, 5, 4, 4, 1, 2, 1, 4, 5, 2, 5],
            vec![1, 3, 4, 3, 1, 2, 1, 1, 3, 4, 3, 3, 3],
            vec![4, 4, 1, 3, 3, 4, 3, 2, 1, 4, 4, 1, 1],
            vec![4, 1, 5, 5, 3, 3, 2, 5, 2, 3, 1, 1, 5],
            vec![2, 5, 5, 5, 1, 5, 5, 5, 3, 2, 5, 2, 2],
            vec![4, 2, 4, 3, 2, 4, 4, 4, 5, 3, 1, 1, 2],
            vec![2, 1, 2, 1, 2, 3, 3, 4, 3, 5, 5, 2, 3],
            vec![1, 4, 2, 5, 3, 5, 4, 1, 3, 5, 2, 2, 1],
            vec![2, 2, 3, 5, 4, 4, 2, 1, 3, 4, 2, 3, 5],
        ];

        let expect = vec![
            vec![1, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0],
            vec![1, 4, 3, 5, 1, 0, 0, 0, 0, 0, 5, 2, 5],
            vec![4, 3, 4, 3, 3, 4, 0, 0, 0, 0, 4, 1, 1],
            vec![4, 4, 1, 3, 3, 2, 1, 2, 0, 3, 1, 1, 5],
            vec![2, 1, 5, 5, 1, 4, 3, 2, 3, 2, 5, 2, 2],
            vec![4, 2, 4, 3, 2, 3, 2, 5, 1, 3, 1, 1, 2],
            vec![2, 1, 2, 1, 2, 3, 3, 4, 2, 5, 5, 2, 3],
            vec![1, 4, 2, 5, 3, 5, 4, 1, 3, 5, 2, 2, 1],
            vec![2, 2, 3, 5, 4, 4, 2, 1, 5, 4, 2, 3, 5],
        ];
        assert_eq!(candy_crush(board), expect)
    }

    #[test]
    fn test_case5() {
        let board = vec![
            vec![
                1, 4, 3, 5, 4, 4, 1, 2, 1, 4, 5, 2, 5, 2, 2, 2, 1, 1, 5, 2, 1, 3, 1, 4, 2, 5, 4, 5,
                3, 5, 3, 4, 5, 3, 5, 1, 1, 3, 5, 3, 5, 2, 1, 2, 2, 3, 5, 5, 2, 3,
            ],
            vec![
                1, 3, 4, 3, 1, 2, 1, 1, 3, 4, 3, 3, 3, 1, 2, 1, 3, 2, 2, 4, 2, 1, 4, 1, 3, 4, 3, 1,
                4, 2, 2, 2, 3, 5, 3, 2, 3, 5, 3, 2, 4, 2, 4, 3, 1, 1, 1, 3, 2, 5,
            ],
            vec![
                4, 4, 1, 3, 3, 4, 3, 2, 1, 4, 4, 1, 1, 5, 1, 3, 4, 1, 1, 3, 1, 3, 3, 1, 3, 4, 1, 3,
                5, 2, 1, 2, 5, 4, 3, 2, 1, 4, 1, 3, 5, 3, 4, 1, 2, 1, 5, 5, 2, 3,
            ],
            vec![
                4, 1, 5, 5, 3, 3, 2, 5, 2, 3, 1, 1, 5, 3, 4, 5, 5, 2, 4, 2, 2, 2, 1, 2, 2, 2, 5, 4,
                4, 2, 4, 2, 1, 5, 3, 2, 5, 4, 5, 5, 5, 1, 2, 4, 5, 3, 4, 4, 3, 5,
            ],
            vec![
                2, 5, 5, 5, 1, 5, 5, 5, 3, 2, 5, 2, 2, 4, 1, 3, 4, 1, 3, 5, 2, 1, 4, 2, 4, 3, 4, 3,
                1, 3, 3, 1, 3, 5, 1, 1, 4, 2, 2, 5, 2, 1, 3, 4, 5, 1, 2, 1, 1, 2,
            ],
            vec![
                4, 2, 4, 3, 2, 4, 4, 4, 5, 3, 1, 1, 2, 4, 1, 1, 4, 5, 5, 4, 4, 3, 4, 5, 5, 3, 3, 5,
                1, 2, 2, 1, 4, 2, 3, 1, 2, 1, 1, 2, 3, 4, 3, 4, 4, 5, 2, 3, 4, 2,
            ],
            vec![
                2, 1, 2, 1, 2, 3, 3, 4, 3, 5, 5, 2, 3, 5, 2, 4, 4, 4, 5, 1, 5, 1, 1, 2, 2, 2, 5, 3,
                3, 4, 5, 2, 2, 1, 3, 2, 4, 2, 2, 3, 1, 3, 3, 2, 5, 5, 2, 2, 3, 1,
            ],
            vec![
                1, 4, 2, 5, 3, 5, 4, 1, 3, 5, 2, 2, 1, 4, 3, 2, 5, 2, 5, 4, 5, 3, 3, 5, 2, 3, 2, 4,
                3, 2, 3, 1, 3, 5, 1, 5, 5, 1, 1, 4, 1, 2, 1, 3, 5, 3, 2, 4, 3, 1,
            ],
            vec![
                2, 2, 3, 5, 4, 4, 2, 1, 3, 4, 2, 3, 5, 2, 5, 4, 2, 5, 1, 1, 1, 2, 5, 1, 3, 3, 5, 3,
                2, 2, 3, 1, 5, 3, 1, 2, 1, 4, 2, 1, 2, 3, 2, 4, 1, 3, 1, 3, 5, 2,
            ],
            vec![
                3, 5, 1, 5, 3, 2, 3, 3, 3, 5, 2, 1, 4, 5, 4, 4, 4, 2, 4, 1, 4, 1, 2, 5, 1, 5, 3, 4,
                3, 5, 5, 2, 4, 3, 1, 5, 3, 4, 3, 3, 3, 5, 5, 2, 3, 4, 1, 5, 2, 5,
            ],
            vec![
                2, 5, 2, 4, 4, 2, 3, 1, 1, 5, 1, 1, 2, 4, 5, 3, 3, 1, 2, 4, 4, 3, 2, 5, 1, 1, 1, 3,
                2, 4, 2, 5, 4, 4, 3, 3, 3, 1, 4, 3, 4, 1, 2, 2, 5, 3, 5, 1, 1, 1,
            ],
            vec![
                4, 5, 1, 3, 1, 3, 1, 3, 2, 1, 3, 3, 5, 5, 5, 3, 2, 3, 1, 2, 4, 4, 1, 3, 4, 2, 3, 4,
                4, 3, 5, 4, 3, 1, 1, 2, 4, 1, 2, 4, 2, 4, 4, 4, 1, 5, 4, 2, 2, 4,
            ],
            vec![
                2, 4, 5, 2, 4, 2, 3, 5, 4, 1, 5, 5, 4, 4, 4, 4, 3, 4, 3, 4, 2, 3, 5, 2, 4, 2, 2, 4,
                5, 2, 3, 4, 5, 5, 3, 2, 1, 4, 1, 4, 1, 4, 5, 4, 4, 2, 5, 5, 3, 1,
            ],
            vec![
                2, 3, 5, 2, 3, 5, 3, 5, 3, 2, 1, 5, 3, 5, 5, 5, 1, 2, 1, 2, 4, 3, 3, 3, 1, 3, 4, 2,
                5, 4, 4, 3, 2, 4, 3, 3, 2, 3, 3, 2, 3, 2, 4, 4, 3, 2, 5, 2, 1, 5,
            ],
            vec![
                1, 4, 4, 5, 5, 4, 4, 5, 5, 1, 4, 2, 1, 3, 1, 1, 2, 2, 3, 3, 2, 4, 5, 3, 1, 3, 4, 3,
                5, 5, 1, 2, 2, 3, 3, 3, 1, 5, 3, 5, 2, 1, 4, 4, 1, 3, 1, 5, 2, 3,
            ],
            vec![
                1, 4, 3, 2, 5, 4, 4, 4, 3, 5, 3, 4, 4, 2, 5, 3, 1, 5, 1, 5, 1, 1, 1, 5, 5, 5, 5, 2,
                3, 4, 3, 2, 1, 2, 2, 2, 3, 2, 1, 3, 4, 3, 3, 4, 4, 1, 5, 3, 2, 4,
            ],
            vec![
                5, 5, 1, 2, 4, 5, 2, 2, 5, 1, 5, 4, 4, 5, 3, 4, 3, 4, 5, 3, 4, 1, 3, 3, 3, 4, 4, 1,
                4, 3, 4, 1, 3, 2, 1, 1, 3, 3, 2, 2, 3, 1, 3, 4, 4, 1, 5, 3, 4, 3,
            ],
            vec![
                2, 4, 4, 2, 4, 3, 5, 1, 4, 4, 5, 3, 4, 4, 3, 2, 1, 1, 2, 5, 2, 2, 3, 2, 1, 1, 1, 5,
                4, 1, 1, 2, 3, 5, 5, 4, 5, 4, 1, 2, 1, 3, 4, 3, 3, 5, 3, 5, 3, 1,
            ],
            vec![
                3, 5, 1, 5, 5, 4, 4, 3, 3, 2, 5, 2, 2, 2, 4, 1, 5, 4, 4, 5, 5, 3, 4, 2, 2, 5, 2, 4,
                4, 3, 2, 5, 4, 5, 3, 2, 4, 2, 2, 5, 1, 1, 5, 2, 1, 1, 4, 1, 1, 3,
            ],
            vec![
                2, 1, 1, 2, 3, 2, 4, 3, 2, 2, 5, 3, 2, 4, 3, 3, 3, 4, 4, 2, 3, 3, 5, 3, 4, 5, 1, 4,
                5, 5, 2, 1, 2, 3, 1, 1, 2, 2, 4, 1, 2, 2, 5, 4, 3, 5, 3, 5, 1, 3,
            ],
            vec![
                5, 4, 1, 3, 3, 3, 5, 5, 5, 5, 2, 4, 3, 2, 1, 3, 5, 5, 3, 5, 2, 3, 3, 5, 3, 3, 4, 1,
                2, 1, 4, 5, 2, 2, 3, 3, 4, 1, 4, 1, 1, 1, 5, 5, 4, 5, 2, 3, 3, 5,
            ],
            vec![
                4, 2, 5, 4, 4, 1, 2, 4, 2, 3, 5, 1, 2, 2, 5, 1, 3, 5, 5, 3, 5, 5, 1, 3, 2, 1, 1, 5,
                1, 4, 2, 5, 2, 1, 3, 4, 4, 4, 5, 1, 3, 2, 1, 3, 4, 1, 5, 2, 4, 2,
            ],
            vec![
                3, 5, 4, 3, 1, 1, 3, 2, 3, 2, 1, 2, 1, 5, 1, 2, 3, 1, 4, 4, 5, 5, 5, 3, 5, 4, 5, 2,
                3, 5, 2, 5, 3, 1, 1, 4, 2, 5, 2, 2, 5, 3, 1, 3, 1, 4, 1, 5, 1, 5,
            ],
            vec![
                5, 2, 1, 5, 1, 5, 3, 1, 4, 1, 2, 4, 4, 2, 4, 5, 4, 3, 1, 1, 2, 3, 4, 3, 2, 1, 3, 4,
                5, 3, 4, 2, 5, 5, 4, 3, 2, 2, 5, 1, 4, 3, 4, 3, 3, 2, 2, 5, 5, 5,
            ],
            vec![
                1, 3, 2, 5, 2, 2, 1, 3, 3, 2, 5, 3, 5, 4, 4, 3, 2, 1, 5, 2, 4, 3, 4, 3, 1, 4, 1, 1,
                3, 2, 5, 4, 1, 4, 3, 1, 5, 2, 2, 3, 4, 5, 5, 2, 4, 2, 4, 3, 4, 2,
            ],
            vec![
                3, 1, 1, 2, 5, 3, 1, 4, 3, 2, 2, 2, 1, 3, 2, 1, 3, 4, 1, 1, 5, 1, 5, 5, 1, 2, 5, 4,
                1, 3, 1, 4, 2, 5, 1, 4, 5, 1, 3, 4, 2, 3, 4, 3, 4, 2, 5, 4, 4, 2,
            ],
            vec![
                1, 1, 3, 4, 3, 2, 4, 3, 4, 2, 4, 5, 5, 4, 3, 5, 1, 1, 3, 1, 4, 5, 3, 1, 4, 2, 5, 5,
                4, 5, 3, 2, 2, 5, 4, 4, 2, 2, 4, 1, 4, 1, 1, 3, 3, 4, 4, 5, 4, 5,
            ],
            vec![
                1, 3, 1, 3, 1, 3, 3, 2, 1, 4, 1, 3, 1, 2, 3, 5, 2, 2, 2, 4, 1, 4, 1, 2, 5, 1, 5, 2,
                4, 5, 1, 1, 2, 1, 2, 4, 2, 2, 5, 4, 3, 4, 3, 5, 4, 1, 1, 5, 5, 4,
            ],
            vec![
                3, 3, 1, 4, 5, 5, 1, 3, 3, 5, 4, 5, 3, 2, 3, 4, 3, 3, 4, 2, 2, 5, 5, 2, 5, 1, 5, 5,
                4, 2, 5, 1, 2, 4, 5, 2, 4, 1, 4, 4, 5, 3, 1, 5, 1, 2, 4, 1, 2, 4,
            ],
            vec![
                4, 2, 5, 4, 4, 5, 3, 5, 5, 3, 5, 2, 2, 5, 3, 2, 1, 2, 5, 4, 5, 1, 2, 1, 5, 5, 5, 2,
                1, 3, 2, 2, 4, 2, 3, 1, 5, 3, 5, 2, 3, 5, 3, 5, 3, 1, 4, 4, 4, 4,
            ],
            vec![
                5, 1, 4, 1, 3, 5, 4, 4, 1, 4, 4, 5, 2, 1, 4, 2, 2, 1, 5, 4, 1, 5, 1, 1, 5, 2, 3, 4,
                2, 2, 3, 3, 2, 1, 3, 4, 4, 2, 2, 1, 1, 5, 5, 5, 3, 4, 3, 2, 1, 4,
            ],
            vec![
                3, 1, 4, 4, 5, 3, 4, 3, 1, 3, 1, 5, 4, 1, 2, 5, 5, 5, 3, 2, 5, 3, 5, 3, 4, 3, 5, 1,
                5, 2, 3, 5, 1, 4, 5, 1, 5, 3, 1, 4, 5, 1, 3, 5, 2, 2, 4, 3, 4, 1,
            ],
            vec![
                1, 2, 4, 5, 1, 1, 3, 3, 4, 1, 2, 4, 1, 1, 5, 1, 5, 1, 1, 1, 3, 1, 4, 1, 2, 4, 2, 5,
                3, 4, 1, 2, 3, 3, 4, 5, 5, 3, 3, 1, 1, 1, 3, 1, 3, 5, 4, 3, 5, 2,
            ],
            vec![
                4, 4, 2, 3, 1, 3, 1, 1, 5, 2, 5, 2, 2, 3, 4, 3, 4, 5, 1, 5, 5, 3, 2, 5, 3, 4, 5, 3,
                3, 5, 4, 1, 1, 4, 3, 2, 4, 5, 1, 3, 3, 2, 3, 5, 4, 1, 4, 5, 3, 5,
            ],
            vec![
                2, 5, 2, 1, 1, 2, 1, 5, 3, 3, 4, 1, 2, 1, 1, 3, 4, 2, 3, 4, 2, 4, 3, 4, 1, 3, 1, 3,
                3, 3, 1, 2, 4, 5, 2, 1, 2, 5, 3, 5, 2, 3, 2, 4, 4, 4, 1, 2, 1, 2,
            ],
            vec![
                3, 5, 5, 1, 3, 1, 3, 3, 4, 1, 1, 2, 4, 5, 4, 4, 1, 4, 5, 3, 1, 4, 2, 3, 5, 3, 2, 3,
                5, 1, 1, 3, 3, 5, 2, 3, 2, 1, 5, 4, 5, 1, 2, 4, 5, 5, 1, 2, 3, 2,
            ],
            vec![
                2, 1, 1, 3, 1, 4, 4, 5, 3, 2, 4, 3, 2, 4, 2, 5, 5, 5, 1, 5, 5, 5, 5, 4, 4, 4, 3, 4,
                2, 5, 1, 3, 4, 5, 3, 5, 1, 5, 1, 2, 3, 5, 5, 5, 1, 4, 4, 3, 2, 2,
            ],
            vec![
                2, 5, 2, 1, 2, 3, 5, 3, 2, 5, 5, 2, 3, 2, 2, 2, 4, 1, 4, 2, 5, 2, 1, 2, 5, 5, 4, 2,
                5, 3, 2, 5, 1, 4, 3, 4, 2, 2, 4, 3, 4, 2, 3, 3, 2, 1, 4, 5, 4, 1,
            ],
            vec![
                5, 2, 2, 3, 5, 1, 3, 5, 2, 1, 1, 5, 3, 5, 2, 1, 2, 2, 1, 2, 5, 3, 1, 1, 1, 4, 4, 4,
                4, 4, 2, 4, 2, 4, 5, 1, 3, 5, 2, 3, 2, 1, 1, 5, 3, 4, 4, 5, 2, 4,
            ],
            vec![
                3, 2, 5, 1, 4, 3, 4, 5, 1, 1, 2, 4, 4, 1, 1, 1, 1, 5, 1, 3, 4, 4, 4, 5, 4, 1, 1, 2,
                4, 3, 3, 3, 1, 5, 5, 2, 1, 2, 5, 5, 4, 1, 2, 1, 4, 4, 3, 5, 4, 4,
            ],
            vec![
                5, 3, 5, 3, 4, 3, 4, 2, 5, 5, 1, 4, 4, 4, 2, 3, 4, 5, 1, 1, 3, 1, 2, 4, 4, 1, 1, 4,
                5, 4, 2, 2, 5, 1, 5, 5, 4, 4, 3, 2, 3, 4, 2, 5, 5, 2, 4, 5, 1, 3,
            ],
            vec![
                2, 5, 4, 3, 4, 2, 3, 2, 2, 4, 2, 1, 2, 1, 2, 4, 2, 2, 4, 3, 3, 2, 1, 2, 5, 4, 2, 4,
                2, 3, 4, 2, 5, 2, 5, 2, 1, 3, 3, 4, 2, 2, 1, 2, 2, 3, 1, 3, 3, 3,
            ],
            vec![
                3, 3, 3, 4, 4, 4, 4, 2, 5, 5, 5, 5, 1, 4, 1, 4, 4, 4, 5, 4, 2, 4, 1, 3, 3, 1, 4, 2,
                3, 5, 1, 5, 3, 5, 4, 4, 3, 4, 5, 2, 3, 2, 4, 2, 4, 5, 3, 3, 5, 5,
            ],
            vec![
                2, 5, 4, 5, 2, 3, 1, 1, 2, 1, 3, 2, 5, 5, 2, 4, 2, 3, 1, 4, 5, 5, 1, 5, 1, 4, 1, 2,
                3, 2, 2, 3, 2, 2, 1, 5, 1, 1, 4, 2, 4, 2, 4, 4, 2, 3, 4, 1, 5, 2,
            ],
            vec![
                1, 2, 5, 2, 5, 3, 4, 3, 1, 4, 2, 5, 5, 5, 4, 5, 5, 4, 3, 5, 3, 1, 2, 4, 1, 4, 3, 2,
                5, 3, 2, 5, 2, 4, 4, 5, 1, 3, 3, 3, 1, 2, 2, 5, 5, 1, 3, 2, 3, 1,
            ],
            vec![
                3, 3, 5, 5, 4, 2, 2, 3, 2, 4, 3, 1, 1, 1, 2, 4, 2, 4, 3, 4, 1, 4, 2, 3, 3, 5, 5, 5,
                5, 5, 1, 1, 3, 4, 3, 2, 3, 2, 3, 3, 4, 1, 4, 1, 1, 5, 5, 3, 2, 2,
            ],
            vec![
                2, 1, 4, 4, 3, 1, 4, 1, 4, 5, 2, 1, 1, 5, 5, 4, 1, 2, 1, 3, 3, 5, 1, 5, 3, 2, 2, 4,
                3, 5, 5, 3, 4, 1, 5, 1, 5, 4, 4, 4, 3, 3, 5, 1, 4, 4, 1, 3, 3, 5,
            ],
            vec![
                5, 5, 5, 2, 1, 4, 5, 2, 1, 3, 2, 3, 4, 2, 2, 5, 4, 1, 4, 3, 3, 5, 4, 3, 3, 4, 3, 4,
                2, 4, 1, 3, 2, 4, 4, 1, 5, 4, 1, 1, 2, 1, 4, 2, 2, 5, 2, 3, 5, 1,
            ],
            vec![
                2, 2, 3, 2, 5, 2, 5, 5, 2, 2, 2, 3, 3, 5, 4, 1, 5, 3, 4, 2, 5, 1, 2, 1, 1, 5, 2, 2,
                1, 3, 1, 1, 3, 5, 5, 3, 5, 1, 5, 3, 5, 4, 5, 1, 2, 1, 1, 5, 1, 5,
            ],
            vec![
                1, 2, 4, 1, 3, 3, 2, 5, 1, 3, 4, 4, 1, 5, 4, 5, 1, 3, 3, 3, 3, 2, 2, 5, 4, 3, 1, 2,
                5, 1, 2, 2, 3, 4, 1, 1, 4, 1, 3, 2, 4, 4, 1, 3, 1, 3, 3, 2, 4, 5,
            ],
        ];

        let expect = vec![
            vec![
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
            vec![
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
            vec![
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
            vec![
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
            vec![
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
            vec![
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
            vec![
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
            vec![
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
            vec![
                1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
            vec![
                1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0,
            ],
            vec![
                4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0,
            ],
            vec![
                4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0,
            ],
            vec![
                2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 3,
            ],
            vec![
                4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 5,
            ],
            vec![
                2, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0, 0, 3,
            ],
            vec![
                1, 0, 0, 0, 4, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 5, 0, 0, 0, 3, 5,
            ],
            vec![
                2, 0, 0, 0, 1, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 2, 0, 3, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 5, 0, 0, 1, 0, 0, 0, 5, 0, 0, 0, 1, 0, 0, 0, 1, 2,
            ],
            vec![
                3, 0, 0, 0, 3, 4, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 4, 0, 1, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 4, 0, 0, 3, 0, 0, 0, 2, 0, 0, 0, 3, 0, 0, 0, 4, 2,
            ],
            vec![
                2, 0, 0, 0, 1, 2, 3, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 5, 5, 3, 0, 3, 1, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 5, 0, 0, 1, 0, 0, 0, 3, 0, 0, 0, 5, 0, 0, 5, 3, 1,
            ],
            vec![
                4, 0, 0, 0, 2, 4, 4, 0, 1, 0, 0, 0, 0, 0, 0, 3, 0, 2, 2, 5, 0, 3, 4, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 5, 0, 0, 5, 0, 5, 0, 1, 0, 0, 0, 1, 0, 0, 3, 3, 1,
            ],
            vec![
                2, 0, 0, 0, 2, 3, 2, 0, 3, 0, 0, 0, 0, 0, 0, 5, 0, 1, 4, 4, 2, 1, 3, 4, 0, 0, 0, 0,
                0, 0, 0, 4, 0, 2, 0, 0, 4, 0, 3, 0, 1, 2, 1, 0, 4, 0, 0, 4, 2, 2,
            ],
            vec![
                2, 0, 0, 5, 4, 5, 3, 0, 1, 0, 0, 0, 0, 0, 0, 3, 1, 3, 3, 1, 1, 3, 1, 1, 0, 0, 0, 0,
                0, 0, 0, 1, 0, 3, 1, 0, 2, 0, 1, 0, 2, 2, 4, 0, 3, 3, 0, 1, 2, 5,
            ],
            vec![
                1, 0, 4, 5, 4, 4, 1, 0, 2, 0, 0, 2, 0, 0, 0, 1, 3, 2, 1, 4, 4, 1, 4, 1, 0, 5, 4, 0,
                0, 0, 0, 2, 5, 3, 3, 0, 4, 3, 2, 0, 4, 3, 2, 0, 1, 1, 0, 3, 3, 4,
            ],
            vec![
                5, 4, 5, 3, 1, 5, 3, 2, 3, 0, 0, 1, 0, 0, 0, 2, 4, 2, 3, 2, 5, 3, 4, 2, 0, 4, 3, 0,
                0, 5, 0, 1, 3, 1, 3, 2, 3, 4, 1, 3, 2, 1, 5, 0, 4, 3, 0, 2, 1, 1,
            ],
            vec![
                3, 3, 4, 1, 3, 3, 4, 1, 5, 0, 0, 1, 0, 0, 0, 4, 5, 5, 1, 4, 5, 4, 1, 5, 0, 4, 1, 0,
                0, 3, 3, 1, 5, 4, 1, 4, 1, 4, 2, 5, 1, 5, 2, 0, 3, 1, 0, 4, 2, 5,
            ],
            vec![
                2, 4, 2, 4, 5, 4, 2, 2, 1, 0, 5, 2, 0, 0, 0, 3, 5, 4, 3, 3, 2, 3, 3, 5, 2, 5, 5, 0,
                0, 2, 1, 2, 3, 5, 3, 2, 2, 1, 1, 4, 3, 4, 5, 0, 1, 2, 0, 3, 2, 3,
            ],
            vec![
                5, 2, 3, 3, 4, 2, 5, 5, 2, 3, 4, 1, 0, 0, 0, 3, 2, 1, 1, 5, 4, 4, 5, 1, 3, 2, 4, 0,
                0, 4, 5, 1, 4, 3, 1, 1, 3, 4, 3, 4, 5, 2, 4, 0, 3, 2, 0, 5, 4, 4,
            ],
            vec![
                4, 1, 1, 3, 4, 1, 2, 2, 3, 2, 1, 2, 5, 0, 0, 1, 3, 4, 5, 3, 4, 1, 2, 5, 4, 2, 3, 0,
                0, 2, 3, 5, 2, 2, 3, 3, 5, 1, 1, 5, 4, 1, 4, 0, 4, 3, 5, 2, 3, 3,
            ],
            vec![
                3, 4, 2, 5, 3, 5, 3, 1, 4, 5, 1, 2, 5, 0, 2, 3, 2, 5, 4, 3, 5, 5, 1, 5, 5, 3, 5, 0,
                0, 5, 3, 1, 3, 1, 3, 3, 4, 1, 1, 3, 4, 1, 3, 0, 4, 1, 1, 2, 1, 1,
            ],
            vec![
                5, 4, 1, 2, 1, 2, 1, 3, 3, 4, 3, 3, 2, 0, 1, 4, 3, 5, 3, 1, 3, 3, 5, 2, 2, 4, 2, 0,
                0, 4, 5, 2, 2, 5, 4, 2, 5, 4, 4, 2, 2, 3, 1, 0, 3, 1, 1, 5, 1, 3,
            ],
            vec![
                3, 2, 5, 4, 1, 3, 4, 2, 2, 5, 5, 1, 2, 0, 4, 2, 1, 1, 5, 2, 2, 3, 5, 3, 3, 5, 5, 0,
                0, 4, 3, 4, 1, 4, 3, 1, 2, 1, 5, 2, 4, 1, 1, 2, 4, 5, 5, 3, 4, 3,
            ],
            vec![
                1, 5, 4, 4, 2, 2, 1, 4, 3, 5, 1, 5, 1, 5, 1, 1, 2, 3, 4, 1, 5, 1, 3, 2, 4, 5, 3, 0,
                0, 3, 1, 2, 5, 5, 1, 4, 2, 5, 3, 1, 3, 2, 4, 3, 3, 5, 4, 5, 1, 2,
            ],
            vec![
                3, 2, 2, 1, 5, 3, 4, 2, 4, 1, 4, 5, 5, 4, 3, 2, 3, 4, 5, 4, 2, 5, 4, 2, 1, 3, 2, 0,
                0, 1, 3, 1, 4, 5, 4, 1, 4, 1, 4, 3, 5, 2, 5, 3, 4, 1, 3, 1, 2, 5,
            ],
            vec![
                4, 3, 1, 4, 3, 1, 4, 3, 1, 2, 3, 2, 3, 4, 5, 3, 5, 3, 3, 2, 4, 1, 3, 3, 1, 4, 2, 5,
                0, 5, 2, 3, 1, 1, 2, 2, 4, 2, 5, 4, 3, 3, 4, 2, 1, 4, 4, 3, 1, 2,
            ],
            vec![
                5, 1, 3, 5, 1, 3, 3, 5, 3, 2, 5, 4, 2, 5, 5, 1, 5, 2, 4, 4, 1, 5, 1, 5, 4, 1, 5, 1,
                4, 1, 2, 2, 3, 4, 3, 1, 5, 2, 4, 1, 1, 3, 1, 4, 3, 4, 2, 2, 4, 2,
            ],
            vec![
                3, 3, 1, 3, 5, 2, 1, 4, 5, 3, 5, 3, 1, 5, 1, 5, 3, 1, 5, 4, 2, 3, 4, 5, 3, 1, 3, 4,
                1, 5, 4, 2, 4, 2, 3, 3, 5, 1, 5, 4, 5, 5, 1, 5, 3, 1, 5, 3, 3, 1,
            ],
            vec![
                4, 3, 5, 1, 4, 1, 1, 3, 1, 2, 1, 4, 5, 4, 5, 5, 4, 5, 5, 2, 5, 1, 5, 3, 5, 2, 1, 3,
                1, 3, 1, 3, 3, 1, 5, 5, 4, 5, 1, 4, 3, 1, 2, 1, 4, 1, 1, 4, 1, 2,
            ],
            vec![
                3, 1, 2, 1, 3, 4, 3, 3, 1, 1, 4, 3, 1, 5, 3, 4, 2, 2, 3, 5, 1, 3, 3, 1, 2, 3, 3, 5,
                3, 5, 5, 3, 1, 4, 3, 4, 2, 5, 3, 1, 2, 4, 2, 4, 2, 4, 2, 5, 3, 5,
            ],
            vec![
                2, 2, 5, 3, 5, 3, 4, 1, 3, 3, 1, 3, 1, 3, 4, 2, 3, 4, 1, 4, 5, 4, 1, 5, 1, 4, 2, 4,
                5, 4, 3, 5, 2, 3, 2, 1, 2, 1, 1, 4, 5, 5, 1, 5, 3, 2, 3, 5, 2, 1,
            ],
            vec![
                2, 4, 2, 3, 3, 1, 5, 5, 4, 4, 2, 4, 3, 5, 1, 2, 1, 1, 5, 2, 5, 4, 5, 3, 1, 3, 5, 3,
                1, 1, 3, 4, 1, 5, 2, 2, 1, 2, 1, 4, 4, 1, 2, 1, 4, 5, 1, 2, 4, 4,
            ],
            vec![
                5, 2, 2, 1, 1, 3, 4, 5, 2, 3, 5, 2, 1, 3, 1, 3, 3, 2, 1, 3, 1, 3, 1, 5, 4, 5, 1, 1,
                3, 5, 1, 2, 5, 1, 3, 5, 2, 5, 4, 3, 4, 3, 2, 5, 5, 2, 3, 3, 2, 4,
            ],
            vec![
                3, 2, 5, 3, 2, 3, 4, 3, 2, 1, 4, 1, 2, 1, 4, 3, 1, 5, 4, 1, 3, 1, 5, 4, 2, 1, 4, 4,
                1, 3, 4, 2, 5, 2, 3, 2, 3, 2, 2, 3, 3, 1, 1, 2, 2, 3, 4, 3, 4, 3,
            ],
            vec![
                5, 3, 5, 3, 5, 2, 3, 5, 1, 2, 1, 2, 2, 5, 4, 1, 2, 5, 4, 3, 3, 4, 4, 3, 1, 4, 1, 4,
                1, 3, 1, 5, 3, 5, 4, 4, 1, 4, 5, 5, 2, 2, 4, 2, 4, 5, 1, 5, 1, 5,
            ],
            vec![
                2, 5, 4, 5, 2, 3, 1, 1, 2, 1, 4, 3, 4, 4, 5, 3, 5, 2, 5, 4, 2, 5, 2, 5, 5, 1, 4, 5,
                3, 5, 2, 3, 2, 2, 1, 5, 4, 3, 3, 2, 3, 1, 4, 4, 2, 3, 3, 2, 5, 2,
            ],
            vec![
                2, 5, 4, 2, 5, 3, 4, 3, 2, 2, 5, 2, 2, 5, 4, 5, 5, 3, 1, 4, 5, 1, 3, 4, 5, 4, 1, 5,
                3, 2, 2, 5, 2, 4, 4, 5, 1, 4, 3, 4, 4, 1, 2, 5, 5, 1, 4, 2, 5, 1,
            ],
            vec![
                1, 2, 5, 5, 4, 2, 2, 3, 1, 5, 1, 5, 3, 1, 2, 4, 2, 4, 3, 5, 3, 4, 1, 3, 4, 4, 3, 2,
                5, 3, 1, 1, 3, 4, 3, 2, 3, 1, 5, 2, 1, 4, 4, 1, 1, 5, 5, 3, 2, 2,
            ],
            vec![
                3, 3, 5, 4, 3, 1, 4, 1, 2, 1, 2, 4, 3, 5, 2, 4, 1, 4, 3, 4, 1, 5, 1, 5, 4, 2, 2, 4,
                3, 5, 5, 3, 4, 1, 5, 1, 1, 2, 4, 2, 4, 1, 5, 1, 4, 4, 1, 1, 3, 5,
            ],
            vec![
                2, 1, 4, 2, 1, 4, 5, 2, 4, 1, 3, 1, 1, 2, 1, 5, 4, 2, 1, 3, 3, 5, 4, 3, 5, 4, 3, 1,
                2, 4, 1, 3, 2, 4, 4, 1, 1, 4, 1, 1, 2, 1, 4, 2, 2, 5, 2, 2, 5, 1,
            ],
            vec![
                2, 2, 3, 2, 5, 2, 5, 5, 1, 5, 2, 3, 4, 5, 4, 1, 5, 1, 4, 3, 3, 1, 2, 1, 3, 5, 2, 5,
                1, 3, 1, 1, 3, 5, 5, 3, 3, 1, 5, 3, 5, 4, 5, 1, 2, 1, 1, 5, 1, 5,
            ],
            vec![
                1, 2, 4, 1, 3, 3, 2, 5, 1, 3, 4, 4, 1, 5, 4, 5, 1, 3, 4, 2, 5, 2, 2, 5, 4, 3, 1, 4,
                5, 1, 2, 2, 3, 4, 1, 1, 4, 1, 3, 2, 4, 4, 1, 3, 1, 3, 3, 2, 4, 5,
            ],
        ];
        assert_eq!(candy_crush(board), expect)
    }
}
